---
interface Props {
  title: string;
  description: string;
  image?: string;
  type?: 'website' | 'article';
  canonical?: string;
}

const { title, description, image, type = 'website', canonical } = Astro.props;
const siteTitle = 'Recipes Without Ads';
const fullTitle = title === siteTitle ? title : `${title} | ${siteTitle}`;
const canonicalURL = canonical || new URL(Astro.url.pathname, Astro.site);
const ogImage = image ? new URL(image, Astro.site) : new URL('/images/og-default.jpg', Astro.site);
---

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{fullTitle}</title>
	<meta name="description" content={description}>
	<link rel="canonical" href={canonicalURL}>

	<meta property="og:type" content={type}>
	<meta property="og:title" content={fullTitle}>
	<meta property="og:description" content={description}>
	<meta property="og:url" content={canonicalURL}>
	<meta property="og:image" content={ogImage}>
	<meta property="og:site_name" content={siteTitle}>

	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content={fullTitle}>
	<meta name="twitter:description" content={description}>
	<meta name="twitter:image" content={ogImage}>

	<link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
<a href="#main" class="skip-link">Skip to main content</a>

<header class="site-header">
	<div class="container">
		<h1 class="site-title">
			<a href="/">{siteTitle}</a>
		</h1>
	</div>
</header>

<main id="main">
	<slot />
</main>

<footer class="site-footer">
	<div class="container">
		<p>
			<strong>No ads. No tracking. No cookies.</strong><br>
			Just recipes.
		</p>
		<p class="footer-links">
			<a href="/privacy/">Privacy</a> ·
			<a href="/faq/">FAQ</a> ·
			<a href="/about/">About</a>
		</p>
		<p class="footer-copyright">
			&copy; {new Date().getFullYear()} Recipes Without Ads.
			Content licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">CC BY 4.0</a>.
		</p>
	</div>
</footer>
</body>
</html>

<style is:global>
    @import '../styles/global.css';
</style>
